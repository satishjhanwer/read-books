"use strict";(self.webpackChunkread_books=self.webpackChunkread_books||[]).push([[252],{6025:(e,t,s)=>{s.d(t,{OJ:()=>g,p5:()=>v});const r="persist:",i="persist/FLUSH",n="persist/REHYDRATE",o="persist/PAUSE",a="persist/PERSIST",c="persist/PURGE",u="persist/REGISTER";function l(e,t,s,{debug:r}){const i=Object.assign({},s);if(e&&"object"==typeof e){Object.keys(e).forEach((r=>{"_persist"!==r&&t[r]===s[r]&&(i[r]=e[r])}))}return i}function p(e){const t=e.blacklist||null,s=e.whitelist||null,i=e.transforms||[],n=e.throttle||0,o=`${void 0!==e.keyPrefix?e.keyPrefix:r}${e.key}`,a=e.storage;let c;c=!1===e.serialize?e=>e:"function"==typeof e.serialize?e.serialize:f;const u=e.writeFailHandler||null;let l={};const p={},d=[];let h=null,y=null;function b(){if(0===d.length)return h&&clearInterval(h),void(h=null);const e=d.shift();if(void 0===e)return;const t=i.reduce(((t,s)=>s.in(t,e,l)),l[e]);if(void 0!==t)try{p[e]=c(t)}catch(e){console.error("reduxjs-toolkit-persist/createPersistoid: error serializing state",e)}else delete p[e];0===d.length&&(Object.keys(p).forEach((e=>{void 0===l[e]&&delete p[e]})),y=a.setItem(o,c(p)).catch(O))}function g(e){return(!s||-1!==s.indexOf(e)||"_persist"===e)&&(!t||-1===t.indexOf(e))}function O(e){u&&u(e)}return{update:e=>{Object.keys(e).forEach((t=>{g(t)&&l[t]!==e[t]&&-1===d.indexOf(t)&&d.push(t)})),Object.keys(l).forEach((t=>{void 0===e[t]&&g(t)&&-1===d.indexOf(t)&&void 0!==l[t]&&d.push(t)})),null===h&&(h=setInterval(b,n)),l=e},flush:()=>{for(;0!==d.length;)b();return y||Promise.resolve()}}}function f(e){return JSON.stringify(e)}function d(e){const t=e.transforms||[],s=`${void 0!==e.keyPrefix?e.keyPrefix:r}${e.key}`,i=e.storage;e.debug;let n;return n=!1===e.deserialize?e=>e:"function"==typeof e.deserialize?e.deserialize:h,i.getItem(s).then((e=>{if(e)try{const s={},r=n(e);return Object.keys(r).forEach((e=>{s[e]=t.reduceRight(((t,s)=>s.out(t,e,r)),n(r[e]))})),s}catch(e){throw e}}))}function h(e){return JSON.parse(e)}function y(e){0}var b=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(s[r[i]]=e[r[i]])}return s};function g(e,t){const s=void 0!==e.version?e.version:-1,u=void 0===e.stateReconciler?l:e.stateReconciler,f=e.getStoredState||d,h=void 0!==e.timeout?e.timeout:5e3;let g=null,O=!1,m=!0;const j=e=>(e._persist.rehydrated&&g&&!m&&g.update(e),e);return(l,d)=>{const v=l||{},{_persist:k}=v,_=b(v,["_persist"]);if(d.type===a){let r=!1;const i=(t,s)=>{r||(d.rehydrate(e.key,t,s),r=!0)};if(h&&setTimeout((()=>{!r&&i(void 0,new Error(`reduxjs-toolkit-persist: persist timed out for persist key "${e.key}"`))}),h),m=!1,g||(g=p(e)),k)return Object.assign(Object.assign({},t(_,d)),{_persist:k});if("function"!=typeof d.rehydrate||"function"!=typeof d.register)throw new Error("reduxjs-toolkit-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return d.register(e.key),f(e).then((t=>{if(t){(e.migrate||((e,t)=>Promise.resolve(e)))(t,s).then((e=>{i(e)}),(e=>{i(void 0,e)}))}}),(e=>{i(void 0,e)})),Object.assign(Object.assign({},t(_,d)),{_persist:{version:s,rehydrated:!1}})}if(d.type===c)return O=!0,d.result(function(e){const t=e.storage,s=`${void 0!==e.keyPrefix?e.keyPrefix:r}${e.key}`;return t.removeItem(s,y)}(e)),Object.assign(Object.assign({},t(_,d)),{_persist:k});if(d.type===i)return d.result(g&&g.flush()),Object.assign(Object.assign({},t(_,d)),{_persist:k});if(d.type===o)m=!0;else if(d.type===n){if(O)return Object.assign(Object.assign({},_),{_persist:Object.assign(Object.assign({},k),{rehydrated:!0})});if(d.key===e.key){const s=t(_,d),r=d.payload,i=!1!==u&&void 0!==r?u(r,l,s,e):s,n=Object.assign(Object.assign({},i),{_persist:Object.assign(Object.assign({},k),{rehydrated:!0})});return j(n)}}if(!k)return t(l,d);const P=t(_,d);return P===_?l:j(Object.assign(Object.assign({},P),{_persist:k}))}}var O=s(3828);const m={registry:[],bootstrapped:!1},j=(e=m,t)=>{const s=e.registry.indexOf(t.key),r=[...e.registry];switch(t.type){case u:return Object.assign(Object.assign({},e),{registry:[...e.registry,t.key]});case n:return r.splice(s,1),Object.assign(Object.assign({},e),{registry:r,bootstrapped:0===r.length});default:return e}};function v(e,t,s){let r=s||!1;const l=(0,O.MT)(j,m,t&&t.enhancer?t.enhancer:void 0),p=e=>{l.dispatch({type:u,key:e})},f=(t,s,i)=>{const o={type:n,payload:s,err:i,key:t};e.dispatch(o),l.dispatch(o),"function"==typeof r&&d.getState().bootstrapped&&(r(),r=!1)},d=Object.assign(Object.assign({},l),{purge:()=>{const t=[];return e.dispatch({type:c,result:e=>{t.push(e)}}),Promise.all(t)},flush:()=>{const t=[];return e.dispatch({type:i,result:e=>{t.push(e)}}),Promise.all(t)},pause:()=>{e.dispatch({type:o})},persist:()=>{e.dispatch({type:a,register:p,rehydrate:f})}});return t&&t.manualPersist||d.persist(),d}},3933:(e,t,s)=>{s.d(t,{r:()=>i});var r=s(7294);class i extends r.PureComponent{constructor(){super(...arguments),this.state={bootstrapped:!1},this.handlePersistorState=()=>{const{persistor:e}=this.props,{bootstrapped:t}=e.getState();t&&(this.props.onBeforeLift?Promise.resolve(this.props.onBeforeLift()).finally((()=>this.setState({bootstrapped:!0}))):this.setState({bootstrapped:!0}),this._unsubscribe&&this._unsubscribe())}}componentDidMount(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState.bind(this)),this.handlePersistorState()}componentWillUnmount(){this._unsubscribe&&this._unsubscribe()}render(){return"function"==typeof this.props.children?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}i.defaultProps={children:null,loading:null}},8515:function(e,t,s){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(s(1459));t.default=function(e){const t=(0,i.default)(e);return{getItem:e=>new Promise((s=>{s(t.getItem(e))})),setItem:(e,s)=>new Promise((r=>{r(t.setItem(e,s))})),removeItem:e=>new Promise((s=>{s(t.removeItem(e))}))}}},1459:(e,t)=>{function s(){}Object.defineProperty(t,"__esModule",{value:!0});const r={getItem:s,setItem:s,removeItem:s,keys:[],getAllKeys:s};t.default=function(e){const t=`${e}Storage`;return function(e){if("object"!=typeof self||!(e in self))return!1;try{const t=self[e],s=`reduxjs-toolkit-persist ${e} test`;t.setItem(s,"test"),t.getItem(s),t.removeItem(s)}catch(e){return!1}return!0}(t)?self[t]:r}},4530:function(e,t,s){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=(0,r(s(8515)).default)("local");t.default=i}}]);